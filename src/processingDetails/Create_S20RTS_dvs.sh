#!/bin/bash

# prompt> export TOMO_S20RTS=`pwd`
# prompt> export PATH=${PATH}:.
# S20RTS, make sure use "mod = 0" in mkmap
# This will create S20RTS.txt. Noitice it's not sorted.

rm -f S20RTS.txt *xyz *ps
while read depth
do
    ./mkmap 1 ${depth}
    Line=`tail -n 2 map.${depth}km.xyz`
    NorthVal=`echo ${Line} | awk '{print $3}'`
    SouthVal=`echo ${Line} | awk '{print $6}'`

    for lon in `seq -180 179`
    do
        printf "%.2lf %.2lf %.2lf %.5e\n" ${depth} ${lon} -90 ${SouthVal} >> S20RTS.txt
        printf "%.2lf %.2lf %.2lf %.5e\n" ${depth} ${lon} 90 ${NorthVal} >> S20RTS.txt
    done
    awk -v d=${depth} 'NR<=64440 {printf "%.2lf %.2lf %.2lf %.5e\n",d,$1,$2,$3}' map.${depth}km.xyz >> S20RTS.txt

done << EOF
24.4
25
35
45
55
65
75
80
80.01
85
95
105
115
125
135
145
155
165
175
185
195
205
215
220
220.01
225
235
245
255
265
275
285
295
305
315
325
335
345
355
365
375
385
395
400
400.01
405
415
425
435
445
455
465
475
485
495
505
515
525
535
545
555
565
575
585
595
600
600.01
605
615
625
635
645
655
665
670
670.01
675
685
695
705
715
725
735
745
755
765
771
771.01
775
785
795
805
815
825
835
845
855
865
875
885
895
905
915
925
935
945
955
965
975
985
995
1005
1015
1025
1035
1045
1055
1065
1075
1085
1095
1105
1115
1125
1135
1145
1155
1165
1175
1185
1195
1205
1215
1225
1235
1245
1255
1265
1275
1285
1295
1305
1315
1325
1335
1345
1355
1365
1375
1385
1395
1405
1415
1425
1435
1445
1455
1465
1475
1485
1495
1505
1515
1525
1535
1545
1555
1565
1575
1585
1595
1605
1615
1625
1635
1645
1655
1665
1675
1685
1695
1705
1715
1725
1735
1745
1755
1765
1775
1785
1795
1805
1815
1825
1835
1845
1855
1865
1875
1885
1895
1905
1915
1925
1935
1945
1955
1965
1975
1985
1995
2005
2015
2025
2035
2045
2055
2065
2075
2085
2095
2105
2115
2125
2135
2145
2155
2165
2175
2185
2195
2205
2215
2225
2235
2245
2255
2265
2275
2285
2295
2305
2315
2325
2335
2345
2355
2365
2375
2385
2395
2405
2415
2425
2435
2445
2455
2465
2475
2485
2495
2505
2515
2525
2535
2545
2555
2565
2575
2585
2595
2605
2615
2625
2635
2645
2655
2665
2675
2685
2695
2705
2715
2725
2735
2741
2741.01
2745
2755
2765
2775
2785
2795
2805
2815
2825
2835
2845
2855
2865
2875
2885
2891
EOF

rm -f *xyz *ps

exit 0
